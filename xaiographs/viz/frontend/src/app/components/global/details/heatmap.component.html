<div fxFlex fxLayout="column" fxLayoutGap="5px">
    <div fxLayout="row" fxLayoutAlign="space-between center">
        <label class="globalFeatureTargetTitle">Features Importance Heatmap</label>
        <label class="globalFeatureTargetSubTitle">target selected: {{ currentTarget }}</label>
    </div>
    <div fxFlex fxLayout="row" fxLayoutGap="5px">
        <div fxFlex fxLayout="column">
            <div fxFlex fxLayout="row" *ngFor="let features of dataSource" fxLayoutAlign="center center">
                <label class="globalHeatMapFeature">{{ features.feature }}</label>
                <div fxFlex style="height: 100%;" [style.background-color]="colorTheme.zeroValue">
                    <div [fxFlex]="values.frecuency" fxLayout="column" *ngFor="let values of features.values" fxLayoutAlign="center center" fxLayoutGap="5px" class="globalHeatMapValue" [style.background-color]="values.colorBase" (mouseover)="tooltipHover(features.feature, values.value)" (mouseout)="tooltipHover('', '')">
                        <div fxFlex class="globalTooltipLink" fxLayoutAlign="center center">
                            <label *ngIf="values.frecuency > 5" [style.color]="values.fontColor" class="globalHeatMapIndArea">{{ values.value }}</label>
                            <div fxFlex fxLayout="column" fxLayoutGap="5px" fxLayoutAlign="center center" class="globalTooltip" *ngIf="values.value == tooltipValue && features.feature == tooltipFeature">
                                <div fxLayout="row" style="width: 100%;" fxLayoutAlign="space-between center">
                                    <label class="globalTooltipHeader">{{ features.feature }}</label>
                                    <label class="globalTooltipHeader" style="text-align: right;">{{ values.value }}</label>
                                </div>

                                <div fxLayout="row" style="width: 100%;" fxLayoutAlign="space-between center">
                                    <label class="globalTooltipLabel">Importance</label>
                                    <label class="globalTooltipValue">{{ values.importanceLabeled }}</label>
                                </div>
                                <div fxLayout="row" style="width: 100%;" fxLayoutAlign="space-between center">
                                    <label class="globalTooltipLabel">Frecuency</label>
                                    <label class="globalTooltipValue">{{ values.frecuency }}%</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div fxFlex="3" fxLayout="column" style="border: 1px solid black; color: white" [style.background-image]="heatMapLegendStyle" fxLayoutAlign="space-between center">
            <label>+</label>
            <label>-</label>
        </div>
    </div>
</div>
